[
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html",
    "title": "Pell Grant Awards",
    "section": "",
    "text": "This week, we look into the Pell Grant awards data.\nAccording to usnews.com:\n\nThe Pell Grant is a form of need-based federal financial aid that typically does not have to be repaid, which makes it highly desirable. It is awarded by the U.S. Department of Education to help eligible low-income students pay for college costs, including tuition, fees, room and board, and other educational expenses."
  },
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html#load-data",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html#load-data",
    "title": "Pell Grant Awards",
    "section": "Load Data",
    "text": "Load Data\n\nlibrary(tidyverse)\n\npell <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-08-30/pell.csv') %>% \n    janitor::clean_names()\n\npell\n\n# A tibble: 100,474 × 6\n   state    award recipient name                                   session  year\n   <chr>    <dbl>     <dbl> <chr>                                  <chr>   <dbl>\n 1 AK     197233.       109 Alaska Pacific University              1999-00  1999\n 2 AK     133148.        69 Alaska Vocational Technical Center     1999-00  1999\n 3 AK     107287         72 Sheldon Jackson College                1999-00  1999\n 4 AK    3425149.      1920 University of Alaska - Anchorage       1999-00  1999\n 5 AK    2441864       1256 University of Alaska at Fairbanks      1999-00  1999\n 6 AK     353170        221 University of Alaska at Southeast      1999-00  1999\n 7 AL    5520921.      2369 Alabama Agricultural & Mechanical Uni… 1999-00  1999\n 8 AL    1548659.       837 Alabama Southern Community College     1999-00  1999\n 9 AL    7164037.      3236 Alabama State University               1999-00  1999\n10 AL    1514341        854 Athens State University                1999-00  1999\n# … with 100,464 more rows\n# ℹ Use `print(n = ...)` to see more rows"
  },
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html#explore-data",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html#explore-data",
    "title": "Pell Grant Awards",
    "section": "Explore Data",
    "text": "Explore Data\nOur goal is to understand how Pell Grant award in the US changes across time and how it is related the location or type of colleges.\nHow many students received the Pell Grant award?\n\npell %>% \n    select(year, recipient) %>% \n    group_by(year) %>% \n    summarise(total_recipient = sum(recipient)) %>% \n    ggplot(aes(year, total_recipient)) +\n    geom_col() +\n    scale_y_continuous(labels = scales::comma) +\n    theme_minimal()\n\n\n\n\nHow much Pell Grant money is awarded each year?\n\npell %>% \n    select(year, award) %>% \n    group_by(year) %>% \n    summarise(total_award = sum(award, na.rm = TRUE)) %>% \n    ggplot(aes(year, total_award)) +\n    geom_col() +\n    scale_y_continuous(labels = scales::comma) +\n    theme_minimal()\n\n\n\n\nNotice that the total award dollar jumped way more than the total number of award recipients in 2009. I’m guessing the dollar awarded per student possibly increased significantly in 2009. Let’s check.\n\npell %>% \n    select(year, award, recipient) %>% \n    group_by(year) %>% \n    summarise(award_per_recipient = sum(award, na.rm = TRUE) / sum(recipient)) %>% \n    ggplot(aes(year, award_per_recipient)) +\n    geom_col() +\n    scale_y_continuous(labels = scales::comma) +\n    theme_minimal()\n\n\n\n\nLooks like between 1999 to 2006, the grant awarded per student was stagnant below $2,500.Only from 2009 onwards, the grant awarded per student started to increase year-on-year.\nNext, I’d like to understand top states that award the largest Pell Grant, in terms of dollar value and number of recipients. Let’s see what they are in 2017.\n\npell %>% \n    filter(year == 2017) %>% \n    select(state, award, recipient) %>% \n    group_by(state) %>% \n    summarise(total_award = sum(award, na.rm = TRUE),\n              total_recipient = sum(recipient)) %>% \n    arrange(-total_recipient)\n\n# A tibble: 59 × 3\n   state total_award total_recipient\n   <chr>       <dbl>           <dbl>\n 1 CA     3849733213          938922\n 2 TX     2357765660          577542\n 3 FL     2019275162          489360\n 4 NY     1985470926          452331\n 5 IL     1038490553          263943\n 6 AZ      944096562          241733\n 7 GA      926976350          228079\n 8 PA      900559055          223787\n 9 OH      791739717          205307\n10 NC      829184523          203071\n# … with 49 more rows\n# ℹ Use `print(n = ...)` to see more rows\n\n\nWhich schools in California and Texas that awarded the largest Pell Grant in 2017?\n\npell %>% \n    filter(year == 2017 & state %in% c(\"CA\", \"TX\")) %>% \n    select(state, name, award) %>%\n    group_by(state) %>% \n    slice_max(award, n = 10) %>%\n    ungroup() %>% \n    ggplot(aes(award, fct_reorder(name, award), fill = state)) +\n    geom_col(show.legend = FALSE) +\n    facet_wrap(~state, ncol=1, scales = \"free\")\n\n\n\n\nIn the same state, the amount of Pell Grant award differs by university. Does the amount per student also differ a lot across universities? Let’s check again for California and Texas.\n\npell %>% \n    filter(year == 2017 & state %in% c(\"CA\", \"TX\")) %>% \n    select(state, name, award, recipient) %>%\n    mutate(award_per_person = award / recipient) %>% \n    group_by(state) %>% \n    slice_max(award_per_person, n = 10) %>%\n    ungroup() %>% \n    ggplot(aes(award_per_person, fct_reorder(name, award_per_person), fill = state)) +\n    geom_col(show.legend = FALSE) +\n    facet_wrap(~state, ncol=1, scales = \"free\")\n\n\n\n\nIn Texas, the award per student looks roughly similar. In California, we can see a bigger difference across universities.\nOkay, so now that I have a rough feel of the data, I’d like to visualize the range of Pell Grant award amount that a student can expect in different states."
  },
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html#dumbbell-chart-visualizing-variation-of-award-amounts",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html#dumbbell-chart-visualizing-variation-of-award-amounts",
    "title": "Pell Grant Awards",
    "section": "Dumbbell Chart: Visualizing variation of award amounts",
    "text": "Dumbbell Chart: Visualizing variation of award amounts\nI want to create a dumbbell chart, inspired by this BBC article (see the chart “Earnings vary across unis even within subject”). The idea is to illustrate the variance of Pell Grant within the same state.\nI’ve never created a dumbbell chart before, so I’m following this tutorial as a start.\n\npell_max_min <- pell %>% \n    filter(year == 2017) %>% \n    mutate(award_per_person = award / recipient) %>% \n    select(state, name, award_per_person) %>% \n    group_by(state) %>% \n    summarise(max = max(award_per_person, na.rm = TRUE),\n              min = min(award_per_person, na.rm = TRUE),\n              avg = mean(award_per_person, na.rm = TRUE)) %>% \n    ungroup() %>% \n    mutate(diff = max - min) %>% \n    mutate(state = fct_reorder(state, diff)) %>% \n    pivot_longer(cols = c(max, min)) %>% \n    rename(type = name, \n           award_per_person = value)\n\nhead(pell_max_min)\n\n# A tibble: 6 × 5\n  state   avg  diff type  award_per_person\n  <fct> <dbl> <dbl> <chr>            <dbl>\n1 AK    3866. 1650. max              4627.\n2 AK    3866. 1650. min              2978.\n3 AL    4186. 4039. max              6247.\n4 AL    4186. 4039. min              2208.\n5 AR    4165. 3477. max              6114.\n6 AR    4165. 3477. min              2637 \n\n\nApparently, we need two tibbles. Each tibble holds the data for one end of the dumbbell chart. So we need one tibble for max and one for min.\n\nmax_award <- pell_max_min %>% filter(type == \"max\")\nmin_award <- pell_max_min %>% filter(type == \"min\")\n\nhead(min_award)\n\n# A tibble: 6 × 5\n  state   avg  diff type  award_per_person\n  <fct> <dbl> <dbl> <chr>            <dbl>\n1 AK    3866. 1650. min              2978.\n2 AL    4186. 4039. min              2208.\n3 AR    4165. 3477. min              2637 \n4 AS    4501.    0  min              4501.\n5 AZ    3918. 3420. min              2205.\n6 CA    4069. 6730  min              1162 \n\n\nNow, the data is ready for basic dumbbell plot. We’ll use ggplot2 package, geom_point() to create the two ends of the dumbbell, and geom_segment() to create a connection between the two ends.\n\npell_max_min %>% \n    ggplot() +\n    \n    geom_segment(data = min_award,\n                 aes(x = award_per_person, y = state,\n                     xend = max_award$award_per_person,\n                     yend = max_award$state),\n                 color = \"lightgrey\",\n                 size = 2.5,\n                 alpha = 0.5) +\n    \n    geom_point(aes(x = award_per_person, \n                   y = state, \n                   color = type),\n               size = 2, show.legend = TRUE) +\n    \n    scale_x_continuous(labels = scales::comma) +\n    \n    scale_color_discrete(name = \"Amount\",\n                         labels = c(\"Max\", \"Min\")) +\n\n    labs(x = \"Award per student (USD)\",\n         y = \"State\",\n         title = \"Pell Grant awards vary across colleges within the same state\",\n         subtitle = \"Award amount per student in 2017\") +\n    \n    theme_minimal(\n        base_size = 14,\n        base_family = \"Roboto Condensed\"\n    ) +\n    \n    theme(\n        panel.grid.minor = element_blank(),\n        plot.title = element_text(face = \"bold\"),\n        plot.title.position = \"plot\"\n    )"
  },
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html#more-ideas",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html#more-ideas",
    "title": "Pell Grant Awards",
    "section": "More ideas",
    "text": "More ideas\nWoohoo, I created my first dumbbell chart.\nIf I had more time, here are some things I would want to explore:\n\nDistribution of award amount per person in different states. While range is great, distribution can tell more story. Inspiration: Julia Silge’s blog on gender pay gap in the UK.\nInvestigate the jump in amount awarded per student in 2009. Was it due to change in administration? Was there a new bill to increase higher education subsidy?\nBump chart - to see the award trend for different colleges or states over time.\nVisualize the data on the US map.\nInvestigate if a certain category of colleges awarded more grant than other categories. We can use the Carnegie Classification of Institutions of Higher Education, download the 2021 classification data and join the table with our data set.\nInvestigate the actual amount awarded vs the maximum possible award."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Andrea Lianto",
    "section": "",
    "text": "I’m a Trust & Safety Analyst at Google. I build data pipelines, design dashboards, and manage operations to identify badness on Search at scale.\nI love playing with data, making charts, and chatting about technical topics in general.\nThis blog is to share snippets of my learning journey in data analysis (mostly in R).\nGlad to have you here!"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog Posts",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n     \n  \n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nTidyTuesday\n\n\nanalysis\n\n\n\n\nHow does Pell Grant award vary across the US states? We create a dumbbell chart using ggplot2 package to understand the variation within and across states.\n\n\n\n\n\n\nSeptember 3, 2022\n\n\n7 min\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html#dumbbell-chart-variation-of-award-within-state",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html#dumbbell-chart-variation-of-award-within-state",
    "title": "Pell Grant Awards",
    "section": "Dumbbell Chart: Variation of award within state",
    "text": "Dumbbell Chart: Variation of award within state\nI want to create a dumbbell chart, inspired by this BBC article (see the chart “Earnings vary across unis even within subject”). The idea is to illustrate the variance of Pell Grant within the same state.\nI’ve never created a dumbbell chart before, so I’m following this tutorial as a start.\n\npell_max_min <- pell %>% \n    filter(year == 2017) %>% \n    mutate(award_per_person = award / recipient) %>% \n    select(state, name, award_per_person) %>% \n    group_by(state) %>% \n    summarise(max = max(award_per_person, na.rm = TRUE),\n              min = min(award_per_person, na.rm = TRUE),\n              avg = mean(award_per_person, na.rm = TRUE)) %>% \n    ungroup() %>% \n    mutate(diff = max - min) %>% \n    mutate(state = fct_reorder(state, diff)) %>% \n    pivot_longer(cols = c(max, min)) %>% \n    rename(type = name, \n           award_per_person = value)\n\nhead(pell_max_min)\n\n# A tibble: 6 × 5\n  state   avg  diff type  award_per_person\n  <fct> <dbl> <dbl> <chr>            <dbl>\n1 AK    3866. 1650. max              4627.\n2 AK    3866. 1650. min              2978.\n3 AL    4186. 4039. max              6247.\n4 AL    4186. 4039. min              2208.\n5 AR    4165. 3477. max              6114.\n6 AR    4165. 3477. min              2637 \n\n\nApparently, we need two tibbles. Each tibble holds the data for one end of the dumbbell chart. So we need one tibble for max and one for min.\n\nmax_award <- pell_max_min %>% filter(type == \"max\")\nmin_award <- pell_max_min %>% filter(type == \"min\")\n\nhead(min_award)\n\n# A tibble: 6 × 5\n  state   avg  diff type  award_per_person\n  <fct> <dbl> <dbl> <chr>            <dbl>\n1 AK    3866. 1650. min              2978.\n2 AL    4186. 4039. min              2208.\n3 AR    4165. 3477. min              2637 \n4 AS    4501.    0  min              4501.\n5 AZ    3918. 3420. min              2205.\n6 CA    4069. 6730  min              1162 \n\n\nNow, the data is ready for basic dumbbell plot. We’ll use ggplot2 package, geom_point() to create the two ends of the dumbbell, and geom_segment() to create a connection between the two ends.\n\npell_max_min %>% \n    ggplot() +\n    \n    geom_segment(data = min_award,\n                 aes(x = award_per_person, y = state,\n                     xend = max_award$award_per_person,\n                     yend = max_award$state),\n                 color = \"lightgrey\",\n                 size = 3.5,\n                 alpha = 0.5) +\n    \n    geom_point(aes(x = award_per_person, \n                   y = state, \n                   color = type),\n               size = 3, show.legend = TRUE) +\n    \n    scale_x_continuous(labels = scales::comma) +\n    \n    scale_color_discrete(name = \"Amount\",\n                         labels = c(\"Max\", \"Min\")) +\n\n    labs(x = \"Award per student (USD)\",\n         y = \"State\",\n         title = \"Pell Grant awards vary across colleges within the same state\",\n         subtitle = \"Range of grant amount per student in 2017\") +\n    \n    theme_minimal(\n        base_size = 14,\n        base_family = \"Roboto Condensed\"\n    ) +\n    \n    theme(\n        panel.grid.minor = element_blank(),\n        plot.title = element_text(face = \"bold\"),\n        plot.title.position = \"plot\"\n    )"
  },
  {
    "objectID": "posts/2022-08-30-tidytuesday-pell/index.html#dumbbell-chart-visualize-award-variation",
    "href": "posts/2022-08-30-tidytuesday-pell/index.html#dumbbell-chart-visualize-award-variation",
    "title": "Pell Grant Awards",
    "section": "Dumbbell Chart: Visualize award variation",
    "text": "Dumbbell Chart: Visualize award variation\nI want to create a dumbbell chart, inspired by this BBC article (see the chart “Earnings vary across unis even within subject”). The idea is to illustrate the variance of Pell Grant within the same state.\nI’ve never created a dumbbell chart before, so I’m following this tutorial as a start.\n\npell_max_min <- pell %>% \n    filter(year == 2017) %>% \n    mutate(award_per_person = award / recipient) %>% \n    select(state, name, award_per_person) %>% \n    group_by(state) %>% \n    summarise(max = max(award_per_person, na.rm = TRUE),\n              min = min(award_per_person, na.rm = TRUE),\n              avg = mean(award_per_person, na.rm = TRUE)) %>% \n    ungroup() %>% \n    mutate(diff = max - min) %>% \n    mutate(state = fct_reorder(state, diff)) %>% \n    pivot_longer(cols = c(max, min)) %>% \n    rename(type = name, \n           award_per_person = value)\n\nhead(pell_max_min)\n\n# A tibble: 6 × 5\n  state   avg  diff type  award_per_person\n  <fct> <dbl> <dbl> <chr>            <dbl>\n1 AK    3866. 1650. max              4627.\n2 AK    3866. 1650. min              2978.\n3 AL    4186. 4039. max              6247.\n4 AL    4186. 4039. min              2208.\n5 AR    4165. 3477. max              6114.\n6 AR    4165. 3477. min              2637 \n\n\nApparently, we need two tibbles. Each tibble holds the data for one end of the dumbbell chart. So we need one tibble for max and one for min.\n\nmax_award <- pell_max_min %>% filter(type == \"max\")\nmin_award <- pell_max_min %>% filter(type == \"min\")\n\nhead(min_award)\n\n# A tibble: 6 × 5\n  state   avg  diff type  award_per_person\n  <fct> <dbl> <dbl> <chr>            <dbl>\n1 AK    3866. 1650. min              2978.\n2 AL    4186. 4039. min              2208.\n3 AR    4165. 3477. min              2637 \n4 AS    4501.    0  min              4501.\n5 AZ    3918. 3420. min              2205.\n6 CA    4069. 6730  min              1162 \n\n\nNow, the data is ready for basic dumbbell plot. We’ll use ggplot2 package, geom_point() to create the two ends of the dumbbell, and geom_segment() to create a connection between the two ends.\n\npell_max_min %>% \n    ggplot() +\n    \n    geom_segment(data = min_award,\n                 aes(x = award_per_person, y = state,\n                     xend = max_award$award_per_person,\n                     yend = max_award$state),\n                 color = \"lightgrey\",\n                 size = 3.5,\n                 alpha = 0.5) +\n    \n    geom_point(aes(x = award_per_person, \n                   y = state, \n                   color = type),\n               size = 3, show.legend = TRUE) +\n    \n    scale_x_continuous(labels = scales::comma) +\n    \n    scale_color_discrete(name = \"Amount\",\n                         labels = c(\"Max\", \"Min\")) +\n\n    labs(x = \"Award per student (USD)\",\n         y = \"State\",\n         title = \"Pell Grant awards vary across colleges within the same state\",\n         subtitle = \"Range of grant amount per student in 2017\") +\n    \n    theme_minimal(\n        base_size = 14,\n        base_family = \"Roboto Condensed\"\n    ) +\n    \n    theme(\n        panel.grid.minor = element_blank(),\n        plot.title = element_text(face = \"bold\"),\n        plot.title.position = \"plot\"\n    )"
  }
]